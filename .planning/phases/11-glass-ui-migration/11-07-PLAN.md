---
phase: 11-glass-ui-migration
plan: 07
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/kalender/kalender-liste.tsx
  - src/app/(dashboard)/admin/dsgvo/page.tsx
  - src/app/(dashboard)/admin/audit-trail/page.tsx
  - src/app/(dashboard)/email/tickets/page.tsx
autonomous: true
requirements:
  - UI-01
  - UI-03
gap_closure: true

must_haves:
  truths:
    - "KalenderListe uses explicit glass-card class (not .glass alias) on all 3 container elements"
    - "KalenderListe h1 uses font-semibold not font-heading"
    - "admin/dsgvo, admin/audit-trail, and email/tickets pages use font-semibold in headings"
    - "email/tickets page uses explicit glass-card class (not .glass alias)"
    - "No dashboard-reachable page uses font-heading or the .glass alias class"
  artifacts:
    - path: "src/components/kalender/kalender-liste.tsx"
      provides: "Kalender list UI — explicit glass-card/font-semibold"
      contains: "glass-card"
    - path: "src/app/(dashboard)/admin/dsgvo/page.tsx"
      provides: "DSGVO admin page — font-semibold heading"
      contains: "font-semibold"
    - path: "src/app/(dashboard)/admin/audit-trail/page.tsx"
      provides: "Audit trail page — font-semibold heading"
      contains: "font-semibold"
    - path: "src/app/(dashboard)/email/tickets/page.tsx"
      provides: "E-Mail Tickets page — font-semibold heading, explicit glass-card"
      contains: "glass-card"
  key_links:
    - from: "src/app/globals.css"
      to: "src/components/kalender/kalender-liste.tsx"
      via: "glass-card utility class applied directly"
      pattern: "glass-card"
---

<objective>
Close the two remaining gaps from Phase 11 verification: migrate KalenderListe to explicit glass-card classes and fix font-heading in 3 deferred admin/email pages.

Purpose: Phase 11 scored 6/7 success criteria. SC4 ("all dashboard pages use upgraded glass components") and SC7 ("no page breaks glass design language") fail because KalenderListe uses the .glass alias and font-heading, and 3 admin/email pages still use font-heading.

Output: 4 files modified with targeted class replacements. No logic changes — pure design token fixes.
</objective>

<execution_context>
@/Users/patrickbaumfalk/.claude/get-shit-done/workflows/execute-plan.md
@/Users/patrickbaumfalk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

<interfaces>
<!-- Design token conventions established in Phase 11 -->
<!-- These are the exact class names — use them verbatim. -->

Glass class hierarchy (from globals.css):
- glass-card     → backdrop-blur-[16px], opacity 16px tier (use for card containers, row items)
- glass-panel    → backdrop-blur-[24px], 24px tier (use for panel sections)
- .glass         → ALIAS for glass-card (backward-compat only — do NOT use in new/migrated code)

Font conventions (from Phase 11, decision [11-04]):
- font-heading   → DEPRECATED in phase 11 — always replace with font-semibold
- font-semibold  → the standard heading weight across all migrated pages

These conventions are established in Phase 11 plans 01-06.
See .planning/phases/11-glass-ui-migration/11-04-SUMMARY.md for the font-heading elimination pattern.
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate KalenderListe to explicit glass-card and font-semibold</name>
  <files>src/components/kalender/kalender-liste.tsx</files>
  <action>
Make 4 targeted class replacements in this file. No logic changes — only className string modifications:

1. Line 215: Replace `font-heading` with `font-semibold`
   - Before: `<h1 className="text-2xl font-heading text-foreground">`
   - After:  `<h1 className="text-2xl font-semibold text-foreground">`

2. Line 279: Replace `.glass` with `glass-card`
   - Before: `<div className="glass rounded-xl p-12 text-center">`
   - After:  `<div className="glass-card rounded-xl p-12 text-center">`
   (This is the empty-state div rendered when filteredEintraege.length === 0)

3. Line 405: Replace `.glass` with `glass-card` on KalenderEintragRow container
   - Before: `className={\`glass rounded-xl p-4 flex items-center gap-4 group transition-colors hover:bg-white/30 dark:hover:bg-white/[0.05] \${`
   - After:  `className={\`glass-card rounded-xl p-4 flex items-center gap-4 group transition-colors hover:bg-white/30 dark:hover:bg-white/[0.05] \${`

4. Line 509: Replace `.glass` with `glass-card` on context-menu dropdown div
   - Before: `className="absolute right-0 top-full mt-1 z-20 w-48 glass rounded-lg shadow-lg py-1"`
   - After:  `className="absolute right-0 top-full mt-1 z-20 w-48 glass-card rounded-lg shadow-lg py-1"`

No imports to add — glass-card is a global CSS utility class, not a component import.
No other changes to this file.
  </action>
  <verify>
    <automated>grep -n "font-heading\|\.glass" /Users/patrickbaumfalk/Projekte/AI-Lawyer/src/components/kalender/kalender-liste.tsx | grep -v "glass-card\|glass-panel\|glass-sidebar\|glass-input\|glass-shimmer" | wc -l</automated>
  </verify>
  <done>Command outputs 0 — no remaining font-heading or bare .glass usages in kalender-liste.tsx. glass-card appears at lines 279, 405, 509.</done>
</task>

<task type="auto">
  <name>Task 2: Fix font-heading and .glass alias in 3 deferred admin/email pages</name>
  <files>
    src/app/(dashboard)/admin/dsgvo/page.tsx
    src/app/(dashboard)/admin/audit-trail/page.tsx
    src/app/(dashboard)/email/tickets/page.tsx
  </files>
  <action>
Make targeted class replacements in 3 files. No logic changes.

**admin/dsgvo/page.tsx — line 178:**
- Before: `<h1 className="text-2xl font-heading font-bold">DSGVO-Verwaltung</h1>`
- After:  `<h1 className="text-2xl font-semibold">DSGVO-Verwaltung</h1>`
(font-bold is redundant with font-semibold; use font-semibold per Phase 11 convention)

**admin/audit-trail/page.tsx — line 123:**
- Before: `<h1 className="text-2xl font-heading font-bold">Audit-Trail</h1>`
- After:  `<h1 className="text-2xl font-semibold">Audit-Trail</h1>`

**email/tickets/page.tsx — 3 changes:**

1. Line 104 — heading font:
   - Before: `<h1 className="text-2xl font-heading text-foreground">`
   - After:  `<h1 className="text-2xl font-semibold text-foreground">`

2. Line 124 — empty state container:
   - Before: `<div className="glass rounded-xl p-12 text-center">`
   - After:  `<div className="glass-card rounded-xl p-12 text-center">`

3. Line 133 — ticket list container:
   - Before: `<div className="glass rounded-xl overflow-hidden">`
   - After:  `<div className="glass-card rounded-xl overflow-hidden">`

No imports to add or remove. No other changes to these files.
  </action>
  <verify>
    <automated>grep -rn "font-heading\|\"glass " /Users/patrickbaumfalk/Projekte/AI-Lawyer/src/app/\(dashboard\)/admin/dsgvo/page.tsx /Users/patrickbaumfalk/Projekte/AI-Lawyer/src/app/\(dashboard\)/admin/audit-trail/page.tsx /Users/patrickbaumfalk/Projekte/AI-Lawyer/src/app/\(dashboard\)/email/tickets/page.tsx 2>/dev/null | wc -l</automated>
  </verify>
  <done>Command outputs 0 — no remaining font-heading or bare " glass " (quoted, space-padded to avoid matching glass-card) class usages in the 3 files.</done>
</task>

</tasks>

<verification>
Run both verify commands and confirm output is 0 for each:

```bash
grep -n "font-heading\|\.glass" /Users/patrickbaumfalk/Projekte/AI-Lawyer/src/components/kalender/kalender-liste.tsx | grep -v "glass-card\|glass-panel\|glass-sidebar\|glass-input\|glass-shimmer" | wc -l
# Expected: 0

grep -rn "font-heading\|\"glass " /Users/patrickbaumfalk/Projekte/AI-Lawyer/src/app/\(dashboard\)/admin/dsgvo/page.tsx /Users/patrickbaumfalk/Projekte/AI-Lawyer/src/app/\(dashboard\)/admin/audit-trail/page.tsx /Users/patrickbaumfalk/Projekte/AI-Lawyer/src/app/\(dashboard\)/email/tickets/page.tsx 2>/dev/null | wc -l
# Expected: 0
```

Then verify glass-card is now present in kalender-liste.tsx:
```bash
grep -c "glass-card" /Users/patrickbaumfalk/Projekte/AI-Lawyer/src/components/kalender/kalender-liste.tsx
# Expected: 3 (empty state, row container, context menu)
```
</verification>

<success_criteria>
- kalender-liste.tsx: 0 occurrences of font-heading or .glass alias; 3 occurrences of glass-card
- admin/dsgvo/page.tsx: 0 occurrences of font-heading
- admin/audit-trail/page.tsx: 0 occurrences of font-heading
- email/tickets/page.tsx: 0 occurrences of font-heading or .glass alias; 2 occurrences of glass-card
- Phase 11 success criteria SC4 and SC7 now fully satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/11-glass-ui-migration/11-07-SUMMARY.md` with:
- What was changed (4 files, 8 targeted class replacements)
- Gaps closed (Gap 1: KalenderListe migration, Gap 2: 3 deferred admin/email pages)
- Verification results confirming 0 remaining font-heading / .glass alias usages
</output>
