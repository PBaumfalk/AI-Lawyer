---
milestone: v3.5
audited: 2026-02-26T22:30:00Z
status: gaps_found
scores:
  requirements: 5/18
  phases: 2/2
  integration: 5/5
  flows: 3/3
gaps:
  requirements:
    - id: "FD-01"
      status: "orphaned"
      phase: "Phase 12 (removed)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 12 (Falldatenblaetter) removed from roadmap. Deferred to TODO: .planning/todos/pending/2026-02-26-falldatenblaetter-per-rechtsgebiet-feldschemas.md"
    - id: "FD-02"
      status: "orphaned"
      phase: "Phase 12 (removed)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 12 (Falldatenblaetter) removed from roadmap. Deferred to TODO."
    - id: "FD-03"
      status: "orphaned"
      phase: "Phase 12 (removed)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 12 (Falldatenblaetter) removed from roadmap. Deferred to TODO."
    - id: "FD-04"
      status: "orphaned"
      phase: "Phase 12 (removed)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 12 (Falldatenblaetter) removed from roadmap. Deferred to TODO."
    - id: "BI-01"
      status: "orphaned"
      phase: "Phase 13 (removed)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 13 (BI-Dashboard) removed from roadmap. Deferred to TODO: .planning/todos/pending/2026-02-26-bi-dashboard-geschaeftskennzahlen.md"
    - id: "BI-02"
      status: "orphaned"
      phase: "Phase 13 (removed)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 13 (BI-Dashboard) removed from roadmap. Deferred to TODO."
    - id: "BI-03"
      status: "orphaned"
      phase: "Phase 13 (removed)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 13 (BI-Dashboard) removed from roadmap. Deferred to TODO."
    - id: "BI-04"
      status: "orphaned"
      phase: "Phase 13 (removed)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 13 (BI-Dashboard) removed from roadmap. Deferred to TODO."
    - id: "BI-05"
      status: "orphaned"
      phase: "Phase 13 (removed)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 13 (BI-Dashboard) removed from roadmap. Deferred to TODO."
    - id: "EXP-01"
      status: "orphaned"
      phase: "Phase 14 (removed)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 14 (Export) removed from roadmap. Deferred to TODO: .planning/todos/pending/2026-02-26-export-csv-xlsx-akten-kontakte-finanzen.md"
    - id: "EXP-02"
      status: "orphaned"
      phase: "Phase 14 (removed)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 14 (Export) removed from roadmap. Deferred to TODO."
    - id: "EXP-03"
      status: "orphaned"
      phase: "Phase 14 (removed)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 14 (Export) removed from roadmap. Deferred to TODO."
    - id: "EXP-04"
      status: "orphaned"
      phase: "Phase 14 (removed)"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 14 (Export) removed from roadmap. Deferred to TODO."
  integration: []
  flows: []
tech_debt:
  - phase: 11-glass-ui-migration
    items:
      - "62 font-heading usages in sub-components (dialogs, tab components, beA inbox, invoice detail) — outside Phase 11 page-scoped SC but convention-inconsistent"
      - "77 .glass alias usages in sub-components — renders correctly as glass-card via @apply alias, but canonical class is glass-card"
      - "login/page.tsx uses font-heading on h1 — outside (dashboard) scope, visually intentional but convention-inconsistent"
      - "Einstellungen sub-tab components (8 files, 23 instances font-heading) — outside Phase 11 scope"
      - "beA sub-components (bea-inbox.tsx, bea-message-detail.tsx) — .glass alias and font-heading; outside Phase 11 scope"
---

# Milestone v3.5 — Audit Report

**Milestone:** v3.5 Production Ready
**Audited:** 2026-02-26
**Status:** ⚠ GAPS FOUND (13 orphaned requirements — intentionally deferred)

---

## Executive Summary

Milestone v3.5 shipped its **core deliverables** (Docker build fix + Glass UI migration) with **all 5 in-scope requirements satisfied and fully verified**. Cross-phase integration is complete with no broken E2E flows.

However, 13 of 18 v1 requirements were never addressed — their phases (Falldatenblaetter, BI-Dashboard, Export) were deliberately removed from the roadmap during this session and deferred to TODO. This triggers `gaps_found` status per audit rules, but these are **intentional scope reductions**, not discovered failures.

**Verdict for milestone completion:** User should proceed with `/gsd:complete-milestone` using the "Proceed anyway" path, documenting the 13 requirements as Known Gaps for the next milestone.

---

## Phase Completion

| Phase | Plans | Summaries | Verification | Status |
|-------|-------|-----------|-------------|--------|
| 10. Docker Build Fix | 3 | 3 | ✓ passed | ✓ Complete |
| 11. Glass UI Migration | 7 | 7 | ✓ passed (re-verified) | ✓ Complete |

Both phases 100% complete. No unverified phases.

---

## Requirements Coverage (3-Source Cross-Reference)

### Satisfied Requirements (5/18)

| REQ-ID | Description | VERIFICATION | SUMMARY | REQUIREMENTS.md | Final |
|--------|-------------|-------------|---------|-----------------|-------|
| BUILD-01 | Docker build compiles without errors | ✓ passed | 10-01-SUMMARY ✓ | [x] | **satisfied** |
| BUILD-02 | All services start healthy | ✓ passed (human confirmed) | 10-02-SUMMARY ✓ | [ ] → should be [x] | **satisfied** |
| UI-01 | All dashboard pages use glass components | ✓ passed | 11-03,04,05,07 ✓ | [x] | **satisfied** |
| UI-02 | All form pages use glass styling | ✓ passed | 11-03,05 ✓ | [x] | **satisfied** |
| UI-03 | All list/table pages use glass panels | ✓ passed | 11-03,04,05,07 ✓ | [x] | **satisfied** |

> Note: BUILD-02 checkbox is `[ ]` in REQUIREMENTS.md but all three evidence sources confirm it was completed and verified. Checkbox should be updated to `[x]`.

### Orphaned Requirements (13/18) — Intentionally Deferred

All 13 orphaned requirements belong to phases that were deliberately removed from the roadmap this session:

**Falldatenblaetter (FD-01 through FD-04)** — Phase removed, deferred to:
`.planning/todos/pending/2026-02-26-falldatenblaetter-per-rechtsgebiet-feldschemas.md`

**BI-Dashboard (BI-01 through BI-05)** — Phase removed, deferred to:
`.planning/todos/pending/2026-02-26-bi-dashboard-geschaeftskennzahlen.md`

**Export (EXP-01 through EXP-04)** — Phase removed, deferred to:
`.planning/todos/pending/2026-02-26-export-csv-xlsx-akten-kontakte-finanzen.md`

These are **not discovered gaps** — they are explicit scope decisions made before milestone close.

---

## Cross-Phase Integration

| Check | Result |
|-------|--------|
| Phase 10 → Phase 11 wiring | ✓ No direct code dependency required |
| Critical cross-phase link: `date-fns` Docker COPY (Phase 10) enables `kalender-liste.tsx` (Phase 11) in production | ✓ Verified: Dockerfile line 71 |
| All glass component exports consumed | ✓ 26 dashboard pages import glass components |
| `/api/user/theme` GET + PATCH wired to ThemeProvider | ✓ Verified |
| Auth guard on all dashboard routes | ✓ `(dashboard)/layout.tsx` calls `auth()` |

**Integration score: 5/5 — no broken wiring**

---

## E2E Flow Verification

| Flow | Steps | Status |
|------|-------|--------|
| Login → Glass Dashboard | `localhost:3000` → redirect → login → `auth()` → Sidebar (glass-sidebar) + Header (glass-panel) + dashboard (GlassKpiCard) | ✓ Complete |
| Dark Mode Toggle | Sidebar toggle → `setTheme()` → `.dark` on `<html>` → CSS token overrides → `PATCH /api/user/theme` → persisted to UserSettings | ✓ Complete |
| Page Navigation | Sidebar links → all dashboard pages → glass components render → auth guard maintained | ✓ Complete |

**Flow score: 3/3 — no broken flows**

---

## Tech Debt (Non-Blocking)

### Phase 11 — Sub-Component Consistency

All items are **Info-level** only — no blockers, no broken renders.

| Item | Count | Risk | Notes |
|------|-------|------|-------|
| `font-heading` in sub-components (dialogs, tabs, beA, invoice) | 62 | Low | SF Pro Display renders correctly; slight visual distinction from font-semibold body |
| `.glass` alias in sub-components | 77 | None | `@apply glass-card` via globals.css line 196 — renders identically to glass-card |
| `font-heading` on login page h1 | 1 | None | Outside (dashboard) scope; display heading, visually intentional |

Potential future phase: "Deep Component Sweep" to standardize sub-components to canonical classes.

---

## Recommendation

**Proceed with `/gsd:complete-milestone`** using "Proceed anyway" option.

- The 13 orphaned requirements are **intentional scope reductions**, fully captured in TODOs
- All shipped work (5 requirements) is verified and wired correctly
- No technical blockers exist
- Document orphaned requirements as Known Gaps in MILESTONES.md

---

*Audit generated: 2026-02-26*
*Integration checker: gsd-integration-checker (sonnet)*
*Phases audited: 10-docker-build-fix, 11-glass-ui-migration*
